-- MySQL Script generated by MySQL Workbench
-- mié 10 feb 2021 13:56:10 -05
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema bvj4hzascbyeihgwfuro
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema bvj4hzascbyeihgwfuro
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `bvj4hzascbyeihgwfuro` DEFAULT CHARACTER SET utf8 ;
USE `bvj4hzascbyeihgwfuro` ;

-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`DISTRITOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`DISTRITOS` (
  `iddistrito` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`iddistrito`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`USUARIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`USUARIOS` (
  `idusuario` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `dni` VARCHAR(45) NOT NULL,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `url_foto` VARCHAR(45) NULL,
  `nick` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `iddistrito` INT NOT NULL,
  `Cuenta Interbankaria` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idusuario`),
  INDEX `fk_USUARIOS_DISTRITOS1_idx` (`iddistrito` ASC),
  CONSTRAINT `fk_USUARIOS_DISTRITOS1`
    FOREIGN KEY (`iddistrito`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`SERVICIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`SERVICIOS` (
  `idservicio` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `tarifa` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idservicio`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`WORKERS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`WORKERS` (
  `idworker` INT NOT NULL AUTO_INCREMENT,
  `idusuario` INT UNSIGNED NOT NULL,
  `idservicio` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idworker`),
  INDEX `fk_WORKERS_USUARIOS1_idx` (`idusuario` ASC),
  INDEX `fk_WORKERS_SERVICIOS1_idx` (`idservicio` ASC),
  CONSTRAINT `fk_WORKERS_USUARIOS1`
    FOREIGN KEY (`idusuario`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`USUARIOS` (`idusuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_WORKERS_SERVICIOS1`
    FOREIGN KEY (`idservicio`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`CLIENTES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`CLIENTES` (
  `idcliente` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `idusuario` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idcliente`),
  INDEX `fk_CLIENTES_USUARIOS1_idx` (`idusuario` ASC),
  CONSTRAINT `fk_CLIENTES_USUARIOS1`
    FOREIGN KEY (`idusuario`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`USUARIOS` (`idusuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`CONTRATOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`CONTRATOS` (
  `idcontrato` INT NOT NULL AUTO_INCREMENT,
  `estado` VARCHAR(45) NOT NULL,
  `idWORKER` INT NOT NULL,
  `idCLIENTE` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idcontrato`),
  INDEX `fk_CONTRATOS_WORKERS_idx` (`idWORKER` ASC),
  INDEX `fk_CONTRATOS_CLIENTES1_idx` (`idCLIENTE` ASC),
  CONSTRAINT `fk_CONTRATOS_WORKERS`
    FOREIGN KEY (`idWORKER`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`WORKERS` (`idworker`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATOS_CLIENTES1`
    FOREIGN KEY (`idCLIENTE`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`CLIENTES` (`idcliente`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `bvj4hzascbyeihgwfuro`.`Contacto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `bvj4hzascbyeihgwfuro`.`Contacto` (
  `idusuario` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `telefono_fijo` INT NULL,
  `telefono_celular` INT NULL,
  `correo` VARCHAR(45) NULL,
  PRIMARY KEY (`idusuario`),
  CONSTRAINT `fk_Contacto_USUARIOS1`
    FOREIGN KEY (`idusuario`)
    REFERENCES `bvj4hzascbyeihgwfuro`.`USUARIOS` (`idusuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`DISTRITOS`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (1, 'Cercado de Lima');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (2, 'Ate');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (3, 'Barranco');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (4, 'Breña');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (5, 'Comas');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (6, 'Chorrillos');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (7, 'El agustino');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (8, 'Jesus María');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (9, 'La Molina');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (10, 'La Victoria');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (11, 'Lince');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (12, 'Magdalena del mar');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (13, 'Miraflores');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (14, 'Pueblo Libre');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (15, 'Puente piedra');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (16, 'Rimac');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (17, 'San Isidro');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (18, 'Independencia');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (19, 'San Juan de Miraflores');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (20, 'San Luis');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (21, 'Los Olivos');
INSERT INTO `bvj4hzascbyeihgwfuro`.`DISTRITOS` (`iddistrito`, `nombre`) VALUES (22, 'San Martin de Porres');

COMMIT;


-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`USUARIOS`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`USUARIOS` (`idusuario`, `dni`, `nombre`, `apellido`, `url_foto`, `nick`, `password`, `iddistrito`, `Cuenta Interbankaria`) VALUES (1, '76685878', 'Pedro', 'Perez', '', 'Pepe', 'pass1', 1, '192-168-486954687562-30');

COMMIT;


-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`SERVICIOS`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (1, 'Carpintero', 50);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (2, 'Cerrajero', 30);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (3, 'Mecanico', 80);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (4, 'Albañil', 200);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (5, 'Plomero', 50);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (6, 'Soldador', 100);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (7, 'Pintor', 150);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (8, 'Cocinero', 150);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (9, 'Exterminador de plagas', 200);
INSERT INTO `bvj4hzascbyeihgwfuro`.`SERVICIOS` (`idservicio`, `nombre`, `tarifa`) VALUES (10, 'Limpieza', 50);

COMMIT;


-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`WORKERS`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`WORKERS` (`idworker`, `idusuario`, `idservicio`) VALUES (1, 1, 3);

COMMIT;


-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`CLIENTES`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`CLIENTES` (`idcliente`, `idusuario`) VALUES (1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `bvj4hzascbyeihgwfuro`.`Contacto`
-- -----------------------------------------------------
START TRANSACTION;
USE `bvj4hzascbyeihgwfuro`;
INSERT INTO `bvj4hzascbyeihgwfuro`.`CONTACTO` (`idusuario`, `telefono_fijo`, `telefono_celular`, `correo`) VALUES (1, 4598672, 987654321, 'pedro@gmail.com');

COMMIT;


